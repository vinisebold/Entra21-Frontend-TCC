<!-- Análise de Lucro -->
<section
  class="w-full rounded-2xl border border-gray-200 bg-white shadow-sm p-5"
>
  <header class="mb-3">
    <h2 class="text-[15px] font-medium text-gray-700">Análise de Lucro</h2>
  </header>

  <div class="mb-4 flex items-center justify-between">
    <app-segmented-control
      [opcoes]="periodos"
      [opcaoAtivaId]="periodoAtivoId()"
      (selecaoMudou)="onPeriodoSelect($event)"
    />
    <button
      type="button"
      class="ml-3 inline-flex h-8 w-8 items-center justify-center rounded-full bg-[#DDE5C8] text-[#7B8A52] hover:bg-[#CFDAB3]"
      aria-label="Opções de filtro"
    >
      <svg class="h-4 w-4" fill="currentColor" aria-hidden="true">
        <use href="/sprite.svg#icon-calendar"></use>
      </svg>
    </button>
  </div>

  <!-- Gráfico -->
  <div class="mb-4">
    <div class="flex">
      <div
        class="w-12 select-none pr-2 text-right text-[11px] leading-5 text-gray-500"
      >
        <div class="h-7">2.000</div>
        <div class="h-7">1.500</div>
        <div class="h-7">1.000</div>
        <div class="h-7">500</div>
        <div class="h-7">100</div>
      </div>

      <div class="relative h-[168px] flex-1">
        <div class="absolute inset-0 flex flex-col">
          <div class="flex-1 border-b border-[#D7DFC1]"></div>
          <div class="flex-1 border-b border-[#D7DFC1]"></div>
          <div class="flex-1 border-b border-[#D7DFC1]"></div>
          <div class="flex-1 border-b border-[#D7DFC1]"></div>
          <div class="h-0.5"></div>
        </div>

        <svg
          viewBox="0 0 100 40"
          preserveAspectRatio="none"
          class="absolute inset-0 h-full w-full"
        >
          <path
            d="M0,36 L15,36 L15,12 L30,36 L50,36 L50,24 L60,36 L78,36 L78,6 L92,36 L100,36"
            stroke="#99A86C"
            stroke-width="2"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <g fill="#99A86C">
            <circle cx="15" cy="12" r="1.3" />
            <circle cx="50" cy="24" r="1.3" />
            <circle cx="78" cy="6" r="1.3" />
          </g>
        </svg>
      </div>
    </div>

    <div
      class="ml-12 mt-1 flex select-none justify-between text-[11px] text-gray-500"
    >
      <span>6:00</span>
      <span>12:00</span>
      <span>18:00</span>
      <span>24:00</span>
    </div>
  </div>

  <!-- Destaque de Lucro -->
  <div class="flex items-start gap-3 rounded-xl bg-[#E6EED3] p-4">
    <span
      class="mt-0.5 inline-flex h-6 w-6 items-center justify-center rounded-md bg-[#DDE5C8] text-[#7B8A52]"
    >
      <svg class="h-4 w-4" fill="currentColor" aria-hidden="true">
        <use href="/sprite.svg#icon-dinheiro"></use>
      </svg>
    </span>
    <div>
      <div class="text-sm text-gray-600">Lucro</div>
      @if (isLoading()) {
        <div class="h-8 w-38 rounded bg-[#DDE5C8] animate-pulse"></div>
      } @else {
        <div class="text-3xl font-bold leading-8 text-gray-900">
          {{ lucro() ?? 0 | currency: 'BRL':'symbol':'1.2-2' }}
        </div>
      }
    </div>
  </div>
</section>
