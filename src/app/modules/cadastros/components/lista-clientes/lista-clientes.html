@if (mostrarModalCliente()) {
<app-formulario-cliente
  (fechar)="closeClienteModal()"
  (salvo)="onClienteSalvo()"
></app-formulario-cliente>
}

<section
  role="region"
  aria-label="Fornecedores"
  class="flex flex-col p-4 bg-surface-container rounded-xl h-full"
>
  <header
    class="flex items-center gap-3 rounded-lg bg-surface p-6 z-5 shadow-lg"
    aria-label="CabeÃ§alho Fornecedores"
  >
    <svg class="icone-38" aria-hidden="true" focusable="false">
      <use [attr.href]="'/sprite.svg#icon-pessoas'"></use>
    </svg>

    <h2 class="title-big leading-none text-on-surface">Clientes</h2>

    <div class="ms-auto">
      <app-botao
        label="Adicionar Cliente"
        (buttonClick)="abrirClienteModal()"
      ></app-botao>
    </div>
  </header>

  <div class="flex-1 rounded-lg px-4">
    <ul
      role="list"
      style="max-height: calc(100vh - 200px)"
      class="flex flex-col overflow-y-auto"
      aria-label="Lista de Fornecedores"
    >
      @for (cliente of clientes(); track cliente.id) {
      <li
        role="listitem"
        class="group relative rounded-xl border border-[#f0f0f0] bg-white p-4 shadow-soft m-2"
      >
        <app-cliente-item [cliente]="cliente" />

        <div
          class="absolute top-4 right-4 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200"
        >
          <!-- Editar -->
          <button
            type="button"
            aria-label="Editar Fornecedor"
            class="flex h-10 w-10 items-center justify-center rounded-full bg-transparent text-on-surface-variant hover:bg-gray-100"
          >
            <svg class="w-6 h-6" aria-hidden="true">
              <use [attr.href]="'/sprite.svg#icon-editar'"></use>
            </svg>
          </button>

          <!-- Excluir -->
          <button
            type="button"
            aria-label="Excluir Fornecedor"
            class="flex h-10 w-10 items-center justify-center rounded-full bg-transparent text-on-surface-variant hover:bg-gray-100"
            (click)="deletarCliente(cliente.id)"
          >
            <svg class="w-10 h-10" aria-hidden="true">
              <use [attr.href]="'/sprite.svg#icon-trash'"></use>
            </svg>  
          </button>
        </div>
      </li>
      } @empty {
      <p class="p-8 text-center body-large text-on-surface-variant">
        Nenhum fornecedor encontrado.
      </p>
      }
    </ul>
  </div>
</section>
