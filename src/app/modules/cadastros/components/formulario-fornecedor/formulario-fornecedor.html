<div class="fixed inset-0 z-50 flex items-end justify-end p-4">
  <div
    role="dialog"
    aria-modal="true"
    aria-labelledby="fornecedor-title"
    class="w-full max-w-4xl rounded-2xl bg-[#FBFAF7] shadow-[0_16px_40px_rgba(0,0,0,0.18)] ring-1 ring-black/5"
  >
    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-4">
      <h2 id="fornecedor-title" class="text-lg font-semibold text-neutral-800">
        Adicionar Novo Fornecedor
      </h2>
      <button
        aria-label="Fechar"
        class="inline-flex h-8 w-8 items-center justify-center rounded-full text-neutral-500 hover:bg-neutral-100 hover:text-neutral-700 focus:outline-none focus:ring-2 focus:ring-neutral-300"
        (click)="onFecharClick()"
      >
        <svg
          class="icone text-on-surface-variant"
          aria-hidden="true"
          focusable="false"
        >
          <use [attr.href]="'/sprite.svg#icon-cancel'"></use>
        </svg>
      </button>
    </div>
    <div
      class="h-px w-full bg-neutral-200/70 shadow-[0_1px_0_#fff_inset]"
    ></div>

    <!-- Body -->
    <div class="px-6 py-5">
      <form [formGroup]="fornecedorForm" (ngSubmit)="onSalvarClick()">
        <!-- Fieldset para agrupar e desabilitar os campos durante o loading -->
        <fieldset
          [disabled]="isLoading()"
          class="transition-opacity"
          [class.opacity-50]="isLoading()"
        >
          <!-- Coluna esquerda (campos) -->
          <div class="col-span-12 lg:col-span-7 space-y-5">
            <!-- Nome -->
            <div class="space-y-2">
              <label
                for="nome"
                class="block text-[0.95rem] font-medium text-neutral-700"
                >Nome</label
              >
              <input
                id="nome"
                type="text"
                formControlName="nome"
                placeholder="Informe o nome do fornecedor..."
                class="h-11 w-full rounded-full border border-neutral-200 bg-white px-4 text-[0.95rem] text-neutral-800 placeholder:text-neutral-400 shadow-[inset_0_1px_0_rgba(0,0,0,0.02)] focus:border-neutral-300 focus:outline-none focus:ring-2 focus:ring-[#9AA56B]/40"
              />
            </div>

            <!-- Descrição -->
            <div class="space-y-2">
              <label
                for="descricao"
                class="block text-[0.95rem] font-medium text-neutral-700"
                >Descrição</label
              >
              <input
                id="descricao"
                type="text"
                formControlName="descricao"
                placeholder="Informe a descrição..."
                class="h-11 w-full rounded-full border border-neutral-200 bg-white px-4 text-[0.95rem] text-neutral-800 placeholder:text-neutral-400 focus:border-neutral-300 focus:outline-none focus:ring-2 focus:ring-[#9AA56B]/40"
              />
            </div>

            <!-- Telefone e CNPJ -->
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <!-- Telefone -->
              <div class="space-y-2">
                <label
                  for="telefone"
                  class="block text-[0.95rem] font-medium text-neutral-700"
                  >Telefone</label
                >
                <div class="relative">
                  <span
                    class="pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400"
                  >
                    <svg
                      class="icone text-on-surface-variant"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <use [attr.href]="'/sprite.svg#icon-phone'"></use>
                    </svg>
                  </span>
                  <input
                    id="telefone"
                    type="tel"
                    formControlName="telefone"
                    inputmode="numeric"
                    appTelefoneMask
                    placeholder="(47) 00000 - 0000"
                    class="h-11 w-full rounded-full border border-neutral-200 bg-white pl-11 pr-4 text-[0.95rem] text-neutral-800 placeholder:text-neutral-400 focus:border-neutral-300 focus:outline-none focus:ring-2 focus:ring-[#9AA56B]/40"
                  />
                </div>
              </div>

              <!-- CNPJ -->
              <div class="space-y-2">
                <label
                  for="cnpj"
                  class="block text-[0.95rem] font-medium text-neutral-700"
                  >CNPJ</label
                >
                <div class="relative">
                  <span
                    class="pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400"
                  >
                    <svg
                      class="icone text-on-surface-variant"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <use [attr.href]="'/sprite.svg#icon-identidade'"></use>
                    </svg>
                  </span>
                  <input
                    id="cnpj"
                    type="text"
                    formControlName="cnpj"
                    inputmode="numeric"
                    appCnpjMask
                    placeholder="00.000.000/0000-00"
                    class="h-11 w-full rounded-full border border-neutral-200 bg-white pl-12 pr-4 text-[0.95rem] text-neutral-800 placeholder:text-neutral-400 focus:border-neutral-300 focus:outline-none focus:ring-2 focus:ring-[#9AA56B]/40"
                  />
                </div>
              </div>
            </div>
          </div>
        </fieldset>

        <!-- Footer actions -->
        <div class="flex items-center justify-between pt-6">
          <app-botao
            [type]="'submit'"
            [label]="'Salvar'"
            [icon]="'icon-check'"
            [disabled]="isLoading()"
            [loading]="isLoading()"
            [loadingLabel]="'Salvando...'"
          ></app-botao>
          <button
            type="button"
            (click)="onFecharClick()"
            [disabled]="isLoading()"
            class="px-4 py-2 text-sm font-medium text-neutral-500 hover:text-neutral-700 disabled:opacity-50"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
