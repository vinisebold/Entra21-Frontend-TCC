@if (isLoading()) {
<ul
  role="list"
  style="max-height: calc(100vh - 200px); scrollbar-gutter: stable"
  class="flex flex-col overflow-y-auto"
  aria-label="Carregando Pagos"
>
  @for (i of [0,1,2,3]; track i) {
  <li class="rounded-xl border border-[#f0f0f0] bg-white px-12 py-6 shadow-soft m-2 animate-pulse">
    <div class="grid grid-cols-2 gap-4 items-center">
      <div class="flex flex-col gap-3 justify-center">
        <div class="h-5 w-1/3 bg-surface-container rounded"></div>
        <div class="h-4 w-2/3 bg-surface-container rounded"></div>
        <div class="h-4 w-1/2 bg-surface-container rounded"></div>
        <div class="flex gap-3">
          <div class="h-4 w-24 bg-surface-container rounded"></div>
          <div class="h-4 w-16 bg-surface-container rounded"></div>
        </div>
      </div>
      <div class="flex flex-col gap-2 items-center justify-center">
        <div class="h-5 w-32 bg-surface-container rounded"></div>
        <div class="h-6 w-24 bg-surface-container rounded-full"></div>
      </div>
    </div>
  </li>
  }
</ul>
} @else if (!vendas().length) {
<div class="flex flex-col justify-center items-center h-32 text-center">
  <svg class="w-12 h-12 text-on-surface-variant mb-2" aria-hidden="true">
    <use [attr.href]="'/sprite.svg#icon-inventario'"></use>
  </svg>
  <p class="body-large text-on-surface-variant">Nenhuma venda paga.</p>
</div>
} @else {
<ul
  role="list"
  style="max-height: calc(100vh - 200px); scrollbar-gutter: stable"
  class="flex flex-col overflow-y-auto transition-opacity duration-200"
  [class.opacity-0]="isLoading()"
  [class.opacity-100]="!isLoading()"
  aria-label="Lista de Pagos"
>
  @for (v of vendas(); track v.id) {
  <li class="relative group rounded-xl border border-[#f0f0f0] bg-white px-12 py-6 shadow-soft m-2">
    <div class="grid grid-cols-2 gap-4 items-center relative">
      <span
        aria-hidden="true"
        class="pointer-events-none absolute top-6 bottom-6 left-1/2 -translate-x-1/2 w-px bg-surface-container2"
      ></span>
      <!-- Coluna esquerda -->
      <div class="flex flex-col justify-center">
        <div class="title-large text-on-surface">{{ v.nomeCliente }}</div>
        <div class="mb-4 body-large text-on-surface-variant">
          {{ v.produto.nome }}
        </div>
        <div class="mt-2 flex items-center gap-3">
          <span class="inline-flex items-center gap-1.5 body-large text-on-surface-variant">
            <svg class="icone text-on-surface-variant" aria-hidden="true">
              <use [attr.href]="'/sprite.svg#' + (v.formaPagamento === 'PIX' ? 'icon-pix' : (v.formaPagamento === 'DINHEIRO' ? 'icon-dinheiro' : 'icon-card'))"></use>
            </svg>
            {{ v.formaPagamento }}
          </span>
        </div>
        <div class="mt-2 flex items-center gap-3">
          <span class="inline-flex items-center gap-1.5 body-large text-on-surface-variant">
            <svg class="icone text-on-surface-variant" aria-hidden="true">
              <use href="/sprite.svg#icon-calendar"></use>
            </svg>
            <span>{{ v.totalParcelas }}/{{ v.totalParcelas }}</span>
          </span>
        </div>
      </div>
      <!-- Coluna direita -->
      <div class="flex flex-col gap-2 items-center justify-center">
        <p class="body-large text-on-surface-variant">
          Venda: R$ {{ v.precoVenda | number : '1.2-2' }}
        </p>
        <div class="bg-secundary text-on-surface-variant rounded-xl px-3 py-2 body-large border-1 border-primary">
          Lucro: R$ {{ v.lucro | number : '1.2-2' }}
        </div>
      </div>
    </div>
  </li>
  }
</ul>
}
